{
  "permissions": {
    "allow": [
      "Bash(ssh root@77.243.85.8 \"sudo -u postgres psql -c \"\"CREATE DATABASE alessa_ordering OWNER alessa_ordering_user;\"\"\")",
      "Bash(ssh root@77.243.85.8 \"sudo -u postgres psql -c \"\"GRANT ALL PRIVILEGES ON DATABASE alessa_ordering TO alessa_ordering_user;\"\"\")",
      "Bash(npm run dev:*)",
      "Bash(npx tsc:*)",
      "Bash(pkill:*)",
      "Bash(cat:*)",
      "Bash(pg_isready:*)",
      "Bash(curl:*)",
      "Bash(psql:*)",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && git status\")",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Las Reinas cart, checkout, and admin enhancements\n\n- Update cart drawer with Las Reinas red/gold theme\n- Add complete checkout page with Stripe payment integration\n- Create payment intent API endpoint\n- Enhance admin menu editor with live preview panel\n- Add checkout navigation from cart\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && git pull origin main\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && git stash && git pull origin main\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && mkdir -p /tmp/vps-backup && mv LAS_REINAS_ADMIN_CREDENTIALS.md components/admin/AdminDashboardHome.tsx components/order/MenuItemCard.tsx components/order/MenuSectionGrid.tsx components/order/RewardsModal.tsx /tmp/vps-backup/ 2>/dev/null; mv public/tenant/lasreinas/images /tmp/vps-backup/ 2>/dev/null; mv scripts/check-vps-menu.js scripts/fix-lasreinas-images-smart.js scripts/seed-lasreinas-images-vps.js /tmp/vps-backup/ 2>/dev/null; echo ''Files backed up''\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npm install\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npm run build\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && NEXT_LINT=false npm run build\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && cat >> next.config.js << ''EOF''\n\n// Disable ESLint during builds temporarily\nmodule.exports.eslint = { ignoreDuringBuilds: true };\nEOF\n\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npm run build 2>&1 | tail -100\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && rm -f OrderPageClient-VPS.tsx && npm run build 2>&1 | tail -50\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && sed -i \"\"s/apiVersion: ''2024-11-20.acacia''/apiVersion: ''2022-11-15''/\"\" app/api/orders/create-payment-intent/route.ts\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npm run build 2>&1 | tail -20\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && grep -n ''enum.*TenantStatus'' prisma/schema.prisma || echo ''TenantStatus enum not found''\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npx prisma generate\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && npm run build 2>&1 | grep -A5 -B5 ''Compiled\\|Route\\|âœ“'' | tail -30\")",
      "Bash(ssh root@77.243.85.8 \"cd /var/www/alessa-ordering && timeout 180 tail -f .next/trace 2>/dev/null || npm run build 2>&1 | tail -50\")",
      "Bash(ssh root@77.243.85.8:*)",
      "Bash(npx prisma db push:*)",
      "Bash(git reset:*)",
      "Bash(npx prisma:*)",
      "Bash(node scripts/migrate-catering-sections.mjs:*)",
      "Bash(node:*)",
      "Bash(npx eslint:*)",
      "Bash(python3:*)",
      "Bash(npm view:*)",
      "Bash(npm run build:*)",
      "Bash(ls:*)",
      "Bash(git checkout:*)",
      "Bash(openssl rand:*)",
      "Bash(chmod:*)",
      "Bash(scp:*)",
      "Bash(git fetch:*)",
      "Bash(git tag:*)",
      "Bash(npx cap:*)",
      "Bash(open:*)",
      "Bash(npm install:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(git branch:*)",
      "Bash(dig:*)",
      "Bash(npm search:*)",
      "Bash(pod install)",
      "Bash(pod repo update:*)",
      "Bash(pod install:*)",
      "Bash(xargs -I{} sh -c \"git show {}:components/order/OrderPageClient.tsx 2>/dev/null | grep -l \"\"Sign Out\\|sign.out\\|logout\"\" && echo {}\")",
      "Bash(timeout 30 npm run build:*)",
      "Bash(timeout 60 npm run build:*)",
      "Bash(timeout 120 npm run build:*)",
      "Bash(openssl s_client:*)",
      "Bash(openssl x509:*)",
      "Bash(xargs:*)",
      "Bash(df:*)",
      "Bash(diskutil list:*)",
      "Bash(diskutil unmount:*)",
      "Bash(diskutil mount:*)",
      "Bash(# Clean more caches rm -rf ~/Library/Caches/com.apple.dt.* rm -rf ~/Library/Caches/typescript rm -rf ~/Library/Caches/pip # Clean old Next.js builds from other projects find /Users/ernestoponce -name \"\".next\"\" -type d -maxdepth 4)",
      "Bash(# Remove duplicate alessa-ordering build and old builds rm -rf /Users/ernestoponce/dev/alessa-ordering/.next rm -rf /Users/ernestoponce/dev/azteka-dsd/.next # Also clean node_modules from inactive projects if they exist du -sh /Users/ernestoponce/dev/*/node_modules)",
      "Bash(sudo mkdir:*)",
      "Bash(sort:*)",
      "Bash(top:*)",
      "Bash(code:*)",
      "Bash(md5:*)",
      "Bash(unzip:*)",
      "Bash(git -C /Users/ernestoponce/alessa-ordering push origin v1.1.0-lasreinas-verified)",
      "Bash(git log:*)",
      "Bash(npm remove:*)",
      "Bash(TZ=\"America/Los_Angeles\" date:*)",
      "Bash(npm outdated:*)",
      "Bash(pod outdated:*)",
      "Bash(pod deintegrate:*)",
      "Bash(osascript:*)",
      "Bash(du:*)",
      "Bash(# Find all video files in common locations echo \"\"Finding video files...\"\" find ~/Downloads ~/Desktop ~/Documents ~/Movies -type f \\\\\\( -iname \"\"*.mp4\"\" -o -iname \"\"*.mov\"\" -o -iname \"\"*.avi\"\" -o -iname \"\"*.mkv\"\" -o -iname \"\"*.m4v\"\" -o -iname \"\"*.wmv\"\" -o -iname \"\"*.webm\"\" \\\\\\))",
      "Bash(# Create personal videos folder and move all videos echo \"\"Creating folder and moving videos...\"\" mkdir -p \"\"/Volumes/AlessaCloud/Personal/Videos\"\" # Move all videos from Downloads find ~/Downloads -type f \\\\\\( -iname \"\"*.mp4\"\" -o -iname \"\"*.mov\"\" -o -iname \"\"*.avi\"\" -o -iname \"\"*.mkv\"\" -o -iname \"\"*.m4v\"\" -o -iname \"\"*.wmv\"\" -o -iname \"\"*.webm\"\" \\\\\\) -exec mv {} \"\"/Volumes/AlessaCloud/Personal/Videos/\"\" \\\\; # Move all videos from Desktop find ~/Desktop -type f \\\\\\( -iname \"\"*.mp4\"\" -o -iname \"\"*.mov\"\" -o -iname \"\"*.avi\"\" -o -iname \"\"*.mkv\"\" -o -iname \"\"*.m4v\"\" -o -iname \"\"*.wmv\"\" -o -iname \"\"*.webm\"\" \\\\\\) -exec mv {} \"\"/Volumes/AlessaCloud/Personal/Videos/\"\" \\\\; # Move all videos from Documents find ~/Documents -type f \\\\\\( -iname \"\"*.mp4\"\" -o -iname \"\"*.mov\"\" -o -iname \"\"*.avi\"\" -o -iname \"\"*.mkv\"\" -o -iname \"\"*.m4v\"\" -o -iname \"\"*.wmv\"\" -o -iname \"\"*.webm\"\" \\\\\\) -exec mv {} \"\"/Volumes/AlessaCloud/Personal/Videos/\"\" \\\\; # Move all videos from Movies find ~/Movies -type f \\\\\\( -iname \"\"*.mp4\"\" -o -iname \"\"*.mov\"\" -o -iname \"\"*.avi\"\" -o -iname \"\"*.mkv\"\" -o -iname \"\"*.m4v\"\" -o -iname \"\"*.wmv\"\" -o -iname \"\"*.webm\"\" \\\\\\) -exec mv {} \"\"/Volumes/AlessaCloud/Personal/Videos/\"\" \\\\; echo \"\"\"\" echo \"\"âœ… Videos moved to /Volumes/AlessaCloud/Personal/Videos/\"\" echo \"\"\"\" echo \"\"Videos in folder:\"\" ls -lh \"\"/Volumes/AlessaCloud/Personal/Videos/\"\")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(# Check current count echo \"\"Videos transferred so far:\"\" ls \"\"/Volumes/AlessaCloud/Personal/Videos/\"\")",
      "Bash(# Check what print relay scripts exist locally echo \"\"=== Print Relay on External Drive ===\"\" ls -la /Volumes/AlessaCloud/scripts/print-relay/ || echo \"\"Not found\"\" echo \"\"\"\" echo \"\"=== Print Relay in Project ===\"\" ls -la /Users/ernestoponce/alessa-ordering/scripts/local-print-relay.mjs || echo \"\"Not found\"\" echo \"\"\"\" echo \"\"=== Checking for any running print processes ===\"\" ps aux)",
      "Bash(# Test creating a payment intent curl -s -X POST \"\"https://lasreinascolusa.com/api/orders/create-payment-intent\"\" \\\\ -H \"\"Content-Type: application/json\"\" \\\\ -H \"\"Cookie: \"\" \\\\ -d ''{ \"\"items\"\": [{\"\"menuItemId\"\": \"\"test\"\", \"\"quantity\"\": 1, \"\"price\"\": 10.00, \"\"name\"\": \"\"Test Item\"\"}], \"\"fulfillmentMethod\"\": \"\"pickup\"\", \"\"customerName\"\": \"\"Test Customer\"\", \"\"customerPhone\"\": \"\"555-1234\"\", \"\"customerEmail\"\": \"\"test@example.com\"\", \"\"subtotal\"\": 10.00, \"\"tax\"\": 0.83, \"\"total\"\": 10.83 }'' | python3 -m json.tool)",
      "Bash(nc:*)",
      "Bash(sips:*)",
      "Bash(ssh:*)",
      "Bash(ssh-keygen:*)",
      "Bash(sshpass:*)",
      "Bash(brew install:*)",
      "Bash(arp:*)",
      "Bash(zip:*)",
      "Bash(echo:*)",
      "Bash(git -C /Users/ernestoponce/alessa-ordering log --oneline --all)",
      "Bash(mkdir:*)",
      "Bash(expect -c '\nspawn ssh -o StrictHostKeyChecking=no \"\"Jose Valencia\"\"@10.1.10.10 \"\"whoami && hostname\"\"\nexpect {\n    \"\"password:\"\" { send \"\"Lasreinas751!\\\\r\"\"; exp_continue }\n    \"\"Password:\"\" { send \"\"Lasreinas751!\\\\r\"\"; exp_continue }\n    eof\n}\n')",
      "Bash(/tmp/ssh-lasreinas.exp)",
      "Bash(/tmp/scp-lasreinas.exp)",
      "Bash(/tmp/scp-agent.exp)",
      "Bash(/tmp/ssh-install.exp:*)",
      "Bash(timeout 60 npx tsc:*)"
    ],
    "deny": [],
    "ask": []
  }
}
